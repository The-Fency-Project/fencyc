- move halt to main end
- codegen works weird with low reg count and several variables, e.g. 2 reg count.
- if statements
