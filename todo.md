- move halt to main end
- refactors
- iterators for `for`
- functions
